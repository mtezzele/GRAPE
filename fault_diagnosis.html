

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>FaultDiagnosis &mdash; GRAPE 1.2.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="grape.fault_diagnosis.FaultDiagnosis" href="_summaries/grape.fault_diagnosis.FaultDiagnosis.html" />
    <link rel="prev" title="grape.parallel_general_graph.ParallelGeneralGraph.compute_outdegree_centrality" href="_summaries/grape.parallel_general_graph.ParallelGeneralGraph.compute_outdegree_centrality.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> GRAPE
          

          
          </a>

          
            
            
              <div class="version">
                1.2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="code.html">Code Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="general_graph.html">GeneralGraph</a></li>
<li class="toctree-l2"><a class="reference internal" href="parallel_general_graph.html">ParallelGeneralGraph</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">FaultDiagnosis</a><ul>
<li class="toctree-l3"><a class="reference internal" href="_summaries/grape.fault_diagnosis.FaultDiagnosis.html">grape.fault_diagnosis.FaultDiagnosis</a></li>
<li class="toctree-l3"><a class="reference internal" href="_summaries/grape.fault_diagnosis.FaultDiagnosis.check_input_with_gephi.html">grape.fault_diagnosis.FaultDiagnosis.check_input_with_gephi</a></li>
<li class="toctree-l3"><a class="reference internal" href="_summaries/grape.fault_diagnosis.FaultDiagnosis.fitness_iteration_parallel.html">grape.fault_diagnosis.FaultDiagnosis.fitness_iteration_parallel</a></li>
<li class="toctree-l3"><a class="reference internal" href="_summaries/grape.fault_diagnosis.FaultDiagnosis.fitness_evaluation_parallel.html">grape.fault_diagnosis.FaultDiagnosis.fitness_evaluation_parallel</a></li>
<li class="toctree-l3"><a class="reference internal" href="_summaries/grape.fault_diagnosis.FaultDiagnosis.fitness_evaluation.html">grape.fault_diagnosis.FaultDiagnosis.fitness_evaluation</a></li>
<li class="toctree-l3"><a class="reference internal" href="_summaries/grape.fault_diagnosis.FaultDiagnosis.optimizer.html">grape.fault_diagnosis.FaultDiagnosis.optimizer</a></li>
<li class="toctree-l3"><a class="reference internal" href="_summaries/grape.fault_diagnosis.FaultDiagnosis.check_paths_and_measures.html">grape.fault_diagnosis.FaultDiagnosis.check_paths_and_measures</a></li>
<li class="toctree-l3"><a class="reference internal" href="_summaries/grape.fault_diagnosis.FaultDiagnosis.rm_nodes.html">grape.fault_diagnosis.FaultDiagnosis.rm_nodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="_summaries/grape.fault_diagnosis.FaultDiagnosis.update_output.html">grape.fault_diagnosis.FaultDiagnosis.update_output</a></li>
<li class="toctree-l3"><a class="reference internal" href="_summaries/grape.fault_diagnosis.FaultDiagnosis.update_status_areas.html">grape.fault_diagnosis.FaultDiagnosis.update_status_areas</a></li>
<li class="toctree-l3"><a class="reference internal" href="_summaries/grape.fault_diagnosis.FaultDiagnosis.delete_a_node.html">grape.fault_diagnosis.FaultDiagnosis.delete_a_node</a></li>
<li class="toctree-l3"><a class="reference internal" href="_summaries/grape.fault_diagnosis.FaultDiagnosis.apply_perturbation.html">grape.fault_diagnosis.FaultDiagnosis.apply_perturbation</a></li>
<li class="toctree-l3"><a class="reference internal" href="_summaries/grape.fault_diagnosis.FaultDiagnosis.simulate_element_perturbation.html">grape.fault_diagnosis.FaultDiagnosis.simulate_element_perturbation</a></li>
<li class="toctree-l3"><a class="reference internal" href="_summaries/grape.fault_diagnosis.FaultDiagnosis.simulate_area_perturbation.html">grape.fault_diagnosis.FaultDiagnosis.simulate_area_perturbation</a></li>
<li class="toctree-l3"><a class="reference internal" href="_summaries/grape.fault_diagnosis.FaultDiagnosis.graph_characterization_to_file.html">grape.fault_diagnosis.FaultDiagnosis.graph_characterization_to_file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="utils.html">utils</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contact.html">Contact</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">How to contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="LICENSE.html">License</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GRAPE</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="code.html">Code Documentation</a> &raquo;</li>
        
      <li>FaultDiagnosis</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/fault_diagnosis.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-grape.fault_diagnosis">
<span id="faultdiagnosis"></span><h1>FaultDiagnosis<a class="headerlink" href="#module-grape.fault_diagnosis" title="Permalink to this headline">¶</a></h1>
<p>FaultDiagnosis module</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="_summaries/grape.fault_diagnosis.FaultDiagnosis.html#grape.fault_diagnosis.FaultDiagnosis" title="grape.fault_diagnosis.FaultDiagnosis"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FaultDiagnosis</span></code></a></p></td>
<td><p>Class FaultDiagnosis.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="_summaries/grape.fault_diagnosis.FaultDiagnosis.check_input_with_gephi.html#grape.fault_diagnosis.FaultDiagnosis.check_input_with_gephi" title="grape.fault_diagnosis.FaultDiagnosis.check_input_with_gephi"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FaultDiagnosis.check_input_with_gephi</span></code></a></p></td>
<td><p>Write list of nodes and list of edges CSV format files, to visualize the input with Gephi.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="_summaries/grape.fault_diagnosis.FaultDiagnosis.fitness_iteration_parallel.html#grape.fault_diagnosis.FaultDiagnosis.fitness_iteration_parallel" title="grape.fault_diagnosis.FaultDiagnosis.fitness_iteration_parallel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FaultDiagnosis.fitness_iteration_parallel</span></code></a></p></td>
<td><p>Parallel iteration for fitness evaluation.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="_summaries/grape.fault_diagnosis.FaultDiagnosis.fitness_evaluation_parallel.html#grape.fault_diagnosis.FaultDiagnosis.fitness_evaluation_parallel" title="grape.fault_diagnosis.FaultDiagnosis.fitness_evaluation_parallel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FaultDiagnosis.fitness_evaluation_parallel</span></code></a></p></td>
<td><p>Wrapper for fitness evaluation.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="_summaries/grape.fault_diagnosis.FaultDiagnosis.fitness_evaluation.html#grape.fault_diagnosis.FaultDiagnosis.fitness_evaluation" title="grape.fault_diagnosis.FaultDiagnosis.fitness_evaluation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FaultDiagnosis.fitness_evaluation</span></code></a></p></td>
<td><p>Evaluation of fitness on individual.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="_summaries/grape.fault_diagnosis.FaultDiagnosis.optimizer.html#grape.fault_diagnosis.FaultDiagnosis.optimizer" title="grape.fault_diagnosis.FaultDiagnosis.optimizer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FaultDiagnosis.optimizer</span></code></a></p></td>
<td><p>Genetic algorithm to optimize switches conditions, using DEAP.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="_summaries/grape.fault_diagnosis.FaultDiagnosis.check_paths_and_measures.html#grape.fault_diagnosis.FaultDiagnosis.check_paths_and_measures" title="grape.fault_diagnosis.FaultDiagnosis.check_paths_and_measures"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FaultDiagnosis.check_paths_and_measures</span></code></a></p></td>
<td><p>Describe the topology of the graph.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="_summaries/grape.fault_diagnosis.FaultDiagnosis.rm_nodes.html#grape.fault_diagnosis.FaultDiagnosis.rm_nodes" title="grape.fault_diagnosis.FaultDiagnosis.rm_nodes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FaultDiagnosis.rm_nodes</span></code></a></p></td>
<td><p>Remove nodes from the graph in a depth first search way to propagate the perturbation.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="_summaries/grape.fault_diagnosis.FaultDiagnosis.update_output.html#grape.fault_diagnosis.FaultDiagnosis.update_output" title="grape.fault_diagnosis.FaultDiagnosis.update_output"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FaultDiagnosis.update_output</span></code></a></p></td>
<td><p>Update columns output DataFrame with attributes in attribute_list.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="_summaries/grape.fault_diagnosis.FaultDiagnosis.update_status_areas.html#grape.fault_diagnosis.FaultDiagnosis.update_status_areas" title="grape.fault_diagnosis.FaultDiagnosis.update_status_areas"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FaultDiagnosis.update_status_areas</span></code></a></p></td>
<td><p>Update the status of the elements in the damaged areas after the propagation of the perturbation.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="_summaries/grape.fault_diagnosis.FaultDiagnosis.delete_a_node.html#grape.fault_diagnosis.FaultDiagnosis.delete_a_node" title="grape.fault_diagnosis.FaultDiagnosis.delete_a_node"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FaultDiagnosis.delete_a_node</span></code></a></p></td>
<td><p>Delete a node in the graph.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="_summaries/grape.fault_diagnosis.FaultDiagnosis.apply_perturbation.html#grape.fault_diagnosis.FaultDiagnosis.apply_perturbation" title="grape.fault_diagnosis.FaultDiagnosis.apply_perturbation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FaultDiagnosis.apply_perturbation</span></code></a></p></td>
<td><p>Perturbation simulator, actually applying the perturbation to all the nodes affected by the perturbation.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="_summaries/grape.fault_diagnosis.FaultDiagnosis.simulate_element_perturbation.html#grape.fault_diagnosis.FaultDiagnosis.simulate_element_perturbation" title="grape.fault_diagnosis.FaultDiagnosis.simulate_element_perturbation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FaultDiagnosis.simulate_element_perturbation</span></code></a></p></td>
<td><p>Simulate a perturbation of one or multiple nodes.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="_summaries/grape.fault_diagnosis.FaultDiagnosis.simulate_area_perturbation.html#grape.fault_diagnosis.FaultDiagnosis.simulate_area_perturbation" title="grape.fault_diagnosis.FaultDiagnosis.simulate_area_perturbation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FaultDiagnosis.simulate_area_perturbation</span></code></a></p></td>
<td><p>Simulate a perturbation in one or multiple areas.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="_summaries/grape.fault_diagnosis.FaultDiagnosis.graph_characterization_to_file.html#grape.fault_diagnosis.FaultDiagnosis.graph_characterization_to_file" title="grape.fault_diagnosis.FaultDiagnosis.graph_characterization_to_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FaultDiagnosis.graph_characterization_to_file</span></code></a></p></td>
<td><p>Write to file graph characterization after the perturbation.</p></td>
</tr>
</tbody>
</table>
<dl class="class">
<dt>
<em class="property">class </em><code class="sig-name descname">FaultDiagnosis</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">parallel=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grape/fault_diagnosis.html#FaultDiagnosis"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class FaultDiagnosis.</p>
<p>Perturbation of a GeneralGraph object.
Perturbation can be simulated on a list of elements, or areas.
From one element, the perturbation propagates in all directions,
unless an isolating element is present.</p>
<p>Create an input graph, with the structure contained in the input file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – input file in CSV format.</p></li>
<li><p><strong>parallel</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a><em>, </em><em>optional</em>) – flag for parallel graph creation,
default to False.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt>
<code class="sig-name descname">apply_perturbation</code><span class="sig-paren">(</span><em class="sig-param">perturbed_nodes</em>, <em class="sig-param">params</em>, <em class="sig-param">weights</em>, <em class="sig-param">parallel</em>, <em class="sig-param">kind='element'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grape/fault_diagnosis.html#FaultDiagnosis.apply_perturbation"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Perturbation simulator, actually applying the perturbation
to all the nodes affected by the perturbation.
The optimizer is run if any switch is present, and edges connecting
its predecessors are removed if the switch state is set to ‘False’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>perturbed_nodes</strong> (<em>list</em>) – nodes(s) involved in the
perturbing event.</p></li>
<li><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) – values for the optimizer evolutionary algorithm.
Dict of: {str: int, str: int, str: float, str: float, str: int}:
- ‘npop’: number of individuals for each population (default to 300)
- ‘ngen’: total number of generations (default to 100)
- ‘indpb’: independent probability for attributes to be changed
(default to 0.6)
- ‘tresh’: threshold for applying crossover/mutation
(default to 0.5)
- ‘nsel’: number of individuals to select (default to 5)</p></li>
<li><p><strong>weights</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) – weights for fitness evaluation on individuals.
Dict of: {str: float, str: float, str: float}:
- ‘w1’: weight multiplying number of actions (default to 1.0)
- ‘w2’: weight multiplying total final service (default to 1.0)
- ‘w3’: weight multiplying final graph size (default to 1.0)</p></li>
<li><p><strong>parallel</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – flag for parallel fitness evaluation of
initial population</p></li>
<li><p><strong>kind</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – type of simulation, used to label output files,
default to ‘element’</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A perturbation, depending on the considered system,
may spread in all directions starting from the damaged
component(s) and may be affect nearby areas.</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">check_input_with_gephi</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grape/fault_diagnosis.html#FaultDiagnosis.check_input_with_gephi"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Write list of nodes and list of edges CSV format files,
to visualize the input with Gephi.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">check_paths_and_measures</code><span class="sig-paren">(</span><em class="sig-param">prefix=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grape/fault_diagnosis.html#FaultDiagnosis.check_paths_and_measures"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Describe the topology of the graph.
Compute efficiency measures for the whole graph and its nodes.
Check the availability of paths between source and target nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>prefix</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a><em>, </em><em>optional</em>) – prefix to be added to column name,
default to None.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">delete_a_node</code><span class="sig-paren">(</span><em class="sig-param">node</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grape/fault_diagnosis.html#FaultDiagnosis.delete_a_node"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Delete a node in the graph.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – the id of the node to remove.</p>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>the node id must be contained in the graph.
No check is done within this function.</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">fitness_evaluation</code><span class="sig-paren">(</span><em class="sig-param">individual</em>, <em class="sig-param">perturbed_nodes</em>, <em class="sig-param">initial_condition</em>, <em class="sig-param">w</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grape/fault_diagnosis.html#FaultDiagnosis.fitness_evaluation"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Evaluation of fitness on individual.
The individual is a list of conditions for the graph switches
(True or False).
Edges connecting its predecessors are removed if the switch state
is set to ‘False’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>individual</strong> (<em>list</em>) – element on which to compute the fitness.</p></li>
<li><p><strong>perturbed_nodes</strong> (<em>list</em>) – nodes(s) involved in the
perturbing event.</p></li>
<li><p><strong>initial_condition</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) – initial status (boolean) for the graph
switches.</p></li>
<li><p><strong>w</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) – weights for fitness evaluation on individuals.
Dict of: {str: float, str: float, str: float}:
- ‘w1’: weight multiplying number of actions (default to 1.0)
- ‘w2’: weight multiplying total final service (default to 1.0)
- ‘w3’: weight multiplying final graph size (default to 1.0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">fitness_evaluation_parallel</code><span class="sig-paren">(</span><em class="sig-param">pop</em>, <em class="sig-param">perturbed_nodes</em>, <em class="sig-param">initial_condition</em>, <em class="sig-param">weights</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grape/fault_diagnosis.html#FaultDiagnosis.fitness_evaluation_parallel"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Wrapper for fitness evaluation. This methods spawns the processes for
fitness evaluation and collects the results.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pop</strong> (<em>list</em>) – list of individuals</p></li>
<li><p><strong>perturbed_nodes</strong> (<em>list</em>) – nodes(s) involved in the perturbing event.</p></li>
<li><p><strong>initial_condition</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) – initial status (boolean) for the graph
switches.</p></li>
<li><p><strong>weights</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) – weights for fitness evaluation on individuals.
Dict of: {str: float, str: float, str: float}:
- ‘w1’: weight multiplying number of actions (default to 1.0)
- ‘w2’: weight multiplying total final service (default to 1.0)
- ‘w3’: weight multiplying final graph size (default to 1.0)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of tuples constituted by the index of the individual,
the individual itself, and its fitness</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">fitness_iteration_parallel</code><span class="sig-paren">(</span><em class="sig-param">out_queue</em>, <em class="sig-param">ichunk</em>, <em class="sig-param">chunk_length</em>, <em class="sig-param">individuals</em>, <em class="sig-param">perturbed_nodes</em>, <em class="sig-param">initial_condition</em>, <em class="sig-param">weights</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grape/fault_diagnosis.html#FaultDiagnosis.fitness_iteration_parallel"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Parallel iteration for fitness evaluation. We append to the
multiprocessing queue a tuple constituted by constituted by the
index of the individual, the individual itself, and its fitness.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>out_queue</strong> (<em>multiprocessing.queues.Queue</em>) – multiprocessing queue</p></li>
<li><p><strong>ichunk</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – index of the chunk under consideration</p></li>
<li><p><strong>chunk_length</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – lengths of the chunks (the last chunk may
be shorter due to non-even division of the number of generations by
the number of processors)</p></li>
<li><p><strong>individuals</strong> (<em>list</em>) – list of individuals on which to perform
fitness evaluation.</p></li>
<li><p><strong>perturbed_nodes</strong> (<em>list</em>) – nodes(s) involved in the perturbing event.</p></li>
<li><p><strong>initial_condition</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) – initial status (boolean) for the graph
switches.</p></li>
<li><p><strong>weights</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) – weights for fitness evaluation on individuals.
Dict of: {str: float, str: float, str: float}:
- ‘w1’: weight multiplying number of actions (default to 1.0)
- ‘w2’: weight multiplying total final service (default to 1.0)
- ‘w3’: weight multiplying final graph size (default to 1.0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">graph_characterization_to_file</code><span class="sig-paren">(</span><em class="sig-param">filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grape/fault_diagnosis.html#FaultDiagnosis.graph_characterization_to_file"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Write to file graph characterization after the perturbation.
File is written in CSV format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – output file name where to write the
graph characterization.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">optimizer</code><span class="sig-paren">(</span><em class="sig-param">perturbed_nodes</em>, <em class="sig-param">initial_condition</em>, <em class="sig-param">params</em>, <em class="sig-param">weights</em>, <em class="sig-param">parallel</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grape/fault_diagnosis.html#FaultDiagnosis.optimizer"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Genetic algorithm to optimize switches conditions, using DEAP.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>perturbed_nodes</strong> (<em>list</em>) – nodes(s) involved in the perturbing event.</p></li>
<li><p><strong>initial_condition</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) – initial status (boolean) for the graph
switches.</p></li>
<li><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) – values for the optimizer evolutionary algorithm.
Dict of: {str: int, str: int, str: float, str: float, str: int}.
- ‘npop’: number of individuals for each population (default to 300)
- ‘ngen’: total number of generations (default to 100)
- ‘indpb’: independent probability for attributes to be changed
(default to 0.6)
- ‘tresh’: threshold for applying crossover/mutation
(default to 0.5)
- ‘nsel’: number of individuals to select (default to 5)</p></li>
<li><p><strong>weights</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) – weights for fitness evaluation on individuals.
Dict of: {str: float, str: float, str: float}:
- ‘w1’: weight multiplying number of actions (default to 1.0)
- ‘w2’: weight multiplying total final service (default to 1.0)
- ‘w3’: weight multiplying final graph size (default to 1.0)</p></li>
<li><p><strong>parallel</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – flag for parallel fitness evaluation of
initial population</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">rm_nodes</code><span class="sig-paren">(</span><em class="sig-param">node</em>, <em class="sig-param">graph</em>, <em class="sig-param">visited=None</em>, <em class="sig-param">broken_nodes=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grape/fault_diagnosis.html#FaultDiagnosis.rm_nodes"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Remove nodes from the graph in a depth first search way to
propagate the perturbation.
Nodes are not deleted if perturbation resistant.
Moreover, valves are not deleted if encountered
during the propagation of a the perturbation.
They are deleted, instead, if object of node deletion themselves.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – the id of the node to remove.</p></li>
<li><p><strong>graph</strong> (<em>nx.DiGraph</em>) – graph on which to apply the node deletion</p></li>
<li><p><strong>visited</strong> (<em>list</em><em>, </em><em>optional</em>) – nodes already visited, default to None.</p></li>
<li><p><strong>broken_nodes</strong> – nodes that got broken along the perturbation,
default to None.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">simulate_area_perturbation</code><span class="sig-paren">(</span><em class="sig-param">perturbed_areas</em>, <em class="sig-param">params={'indpb': 0.6</em>, <em class="sig-param">'ngen': 100</em>, <em class="sig-param">'npop': 300</em>, <em class="sig-param">'nsel': 5</em>, <em class="sig-param">'tresh': 0.5}</em>, <em class="sig-param">weights={'w1': 1.0</em>, <em class="sig-param">'w2': 1.0</em>, <em class="sig-param">'w3': 1.0}</em>, <em class="sig-param">parallel=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grape/fault_diagnosis.html#FaultDiagnosis.simulate_area_perturbation"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Simulate a perturbation in one or multiple areas.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>perturbed_areas</strong> (<em>list</em>) – area(s) involved in the perturbing event.</p></li>
<li><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a><em>, </em><em>optional</em>) – values for the optimizer evolutionary algorithm.
Dict of: {str: int, str: int, str: float, str: float, str: int}:
- ‘npop’: number of individuals for each population (default to 300)
- ‘ngen’: total number of generations (default to 100)
- ‘indpb’: independent probability for attributes to be changed
(default to 0.6)
- ‘tresh’ threshold for applying crossover/mutation
(default to 0.5)
- ‘nsel’: number of individuals to select (default to 5)</p></li>
<li><p><strong>weights</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a><em>, </em><em>optional</em>) – weights for fitness evaluation on individuals.
Dict of: {str: float, str: float, str: float}:
- ‘w1’: weight multiplying number of actions (default to 1.0)
- ‘w2’: weight multiplying total final service (default to 1.0)
- ‘w3’: weight multiplying final graph size (default to 1.0)</p></li>
<li><p><strong>parallel</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a><em>, </em><em>optional</em>) – flag for parallel fitness evaluation of
initial population, default to False</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A perturbation, depending on the considered system,
may spread in all directions starting from the damaged
component(s) and may be affect nearby areas.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>SystemExit</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">simulate_element_perturbation</code><span class="sig-paren">(</span><em class="sig-param">perturbed_nodes</em>, <em class="sig-param">params={'indpb': 0.6</em>, <em class="sig-param">'ngen': 100</em>, <em class="sig-param">'npop': 300</em>, <em class="sig-param">'nsel': 5</em>, <em class="sig-param">'tresh': 0.5}</em>, <em class="sig-param">weights={'w1': 1.0</em>, <em class="sig-param">'w2': 1.0</em>, <em class="sig-param">'w3': 1.0}</em>, <em class="sig-param">parallel=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grape/fault_diagnosis.html#FaultDiagnosis.simulate_element_perturbation"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Simulate a perturbation of one or multiple nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>perturbed_nodes</strong> (<em>list</em>) – nodes(s) involved in the perturbing event.</p></li>
<li><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a><em>, </em><em>optional</em>) – values for the optimizer evolutionary algorithm.
Dict of: {str: int, str: int, str: float, str: float, str: int}:
- ‘npop’: number of individuals for each population (default to 300)
- ‘ngen’: total number of generations (default to 100)
- ‘indpb’: independent probability for attributes to be changed
(default to 0.6)
- ‘tresh’: threshold for applying crossover/mutation
(default to 0.5)
- ‘nsel’: number of individuals to select (default to 5)</p></li>
<li><p><strong>weights</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a><em>, </em><em>optional</em>) – weights for fitness evaluation on individuals.
Dict of: {str: float, str: float, str: float}:
- ‘w1’: weight multiplying number of actions (default to 1.0)
- ‘w2’: weight multiplying total final service (default to 1.0)
- ‘w3’: weight multiplying final graph size (default to 1.0)</p></li>
<li><p><strong>parallel</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a><em>, </em><em>optional</em>) – flag for parallel fitness evaluation of
initial population, default to False</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A perturbation, depending on the considered system,
may spread in all directions starting from the damaged
component(s) and may be affect nearby areas.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>SystemExit</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">update_output</code><span class="sig-paren">(</span><em class="sig-param">attribute_list</em>, <em class="sig-param">prefix=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grape/fault_diagnosis.html#FaultDiagnosis.update_output"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Update columns output DataFrame with attributes
in attribute_list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attribute_list</strong> (<em>list</em>) – list of attributes to be updated
to the output DataFrame.</p></li>
<li><p><strong>prefix</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a><em>, </em><em>optional</em>) – prefix to be added to column name,
default to empty string.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">update_status_areas</code><span class="sig-paren">(</span><em class="sig-param">damaged_areas</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grape/fault_diagnosis.html#FaultDiagnosis.update_status_areas"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Update the status of the elements in the damaged areas
after the propagation of the perturbation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>damaged_areas</strong> (<em>list</em>) – area(s) in which to update the status.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="_summaries/grape.fault_diagnosis.FaultDiagnosis.html" class="btn btn-neutral float-right" title="grape.fault_diagnosis.FaultDiagnosis" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="_summaries/grape.parallel_general_graph.ParallelGeneralGraph.compute_outdegree_centrality.html" class="btn btn-neutral float-left" title="grape.parallel_general_graph.ParallelGeneralGraph.compute_outdegree_centrality" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2018-2019, GRAPE contributors.
      <span class="lastupdated">
        Last updated on May 27, 2021.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>